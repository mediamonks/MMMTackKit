<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Conductor Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../../js/jquery.min.js" defer></script>
    <script src="../../js/jazzy.js" defer></script>
    
    <script src="../../js/lunr.min.js" defer></script>
    <script src="../../js/typeahead.jquery.js" defer></script>
    <script src="../../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Class/Conductor" class="dashAnchor"></a>

    <a title="Conductor Class Reference"></a>

    <header class="header">
      <a href="https://media.monks.com">
        <img src="../../img/logo.png" srcset="../../img/logo@2x.png 2x" alt="Media.Monks" class="header-logo" />
      </a>
    
      <p class="header-col header-col--primary"></p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/mediamonks/MMMTackKit">
            <img class="header-icon" src="../../img/gh.png" alt="GitHub"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../../index.html">MMMTackKit Reference</a>
      <img class="carat" src="../../img/carat.png" alt=""/>
      Conductor Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/Tack.html">Tack</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/Tack/VerticalAlignment.html">– VerticalAlignment</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/Tack/HorizontalAlignment.html">– HorizontalAlignment</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/Tack/OrientedChain.html">– OrientedChain</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/Tack.html#/Chain">– Chain</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/Tack/Builder.html">– Builder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/Tack/Box.html">– Box</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/Tack/Conductor.html">– Conductor</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/Tack/HorizontalAlignmentPolicy.html">– HorizontalAlignmentPolicy</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/Tack/VerticalAlignmentPolicy.html">– VerticalAlignmentPolicy</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/_Tack.html">_Tack</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/_Tack/Padding.html">– Padding</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/_Tack.html#/SuperviewPadding">– SuperviewPadding</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/_Tack.html#/ViewPadding">– ViewPadding</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/_Tack.html#/PaddingSuperview">– PaddingSuperview</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/_Tack.html#/PaddingSuperviewSafeArea">– PaddingSuperviewSafeArea</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/_Tack/Side.html">– Side</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/_Tack/ViewRef.html">– ViewRef</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/_Tack.html#/Anchor">– Anchor</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/_Tack.html#/Pair">– Pair</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/_Tack.html#/ChainPadding">– ChainPadding</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Extensions/Array.html">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Extensions/NSLayoutConstraint.html">NSLayoutConstraint</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Extensions.html#/UILayoutGuide">UILayoutGuide</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Extensions.html#/UIView">UIView</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../../Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Functions.html#/-(_:_:)">-(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Functions.html#/-&lt;|(_:)">-&lt;|(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Functions.html#/-|(_:)">-|(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Functions.html#/==(_:)">==(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Functions.html#/&gt;=(_:)">&gt;=(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Functions.html#/&gt;==(_:)">&gt;==(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Functions.html#/^(_:_:)">^(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Functions.html#/|-(_:)">|-(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Functions.html#/|&gt;-(_:)">|&gt;-(_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Protocols.html#/MMMTackKitViewOrLayoutGuide">MMMTackKitViewOrLayoutGuide</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Protocols/Tack_Builder_Block.html">Tack_Builder_Block</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>Conductor</h1>
            <p>The <code>Conductor</code> can be used to orchestrate a set of constraints, e.g. between state changes. The main goal is to avoid
unnecessary, and complex / error prone, if/else chains in <code>UIView.updateConstraints()</code>.</p>

<p>You should supply a <code>Hashable</code> as generic constraint, this usually ends up being an <code>enum State {}</code>, but
could be identifiers or something similar.</p>

<p>Start by adding constraints for a certain state, after that you can safely set <code>.activeState</code> to update the active
state. Make sure to call <code>setNeedsUpdateConstraints()</code> after you set a new state.</p>

<p>Finally you should override your <code>updateConstraints()</code> method, and call <code><a href="../../Enums/Tack/Conductor.html#/updateConstraints()">Conductor.updateConstraints()</a></code>
to actually activate/de-active the constraints.</p>

<p><strong>Simple example:</strong></p>
<pre class="highlight swift"><code>   <span class="c1">// Store this as a property on your view.</span>
   <span class="k">let</span> <span class="nv">conductor</span> <span class="o">=</span> <span class="kt">Tack</span><span class="o">.</span><span class="kt">Conductor</span><span class="p">(</span><span class="nv">activeState</span><span class="p">:</span> <span class="kt">MyState</span><span class="o">.</span><span class="n">initialState</span><span class="p">)</span>

   <span class="c1">// In your init() call, add the constraints to the conductor.</span>
   <span class="c1">// On `initialState` viewA is pinned to top with viewB below it.</span>
   <span class="n">conductor</span><span class="p">[</span><span class="o">.</span><span class="n">initialState</span><span class="p">]</span> <span class="o">=</span> <span class="kt">Tack</span><span class="o">.</span><span class="nf">constraints</span><span class="p">(</span>
       <span class="o">.</span><span class="kt">V</span><span class="p">(</span><span class="o">|-</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">-</span><span class="n">viewA</span><span class="o">-</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">-</span><span class="n">viewB</span><span class="o">-</span><span class="p">(</span><span class="o">&gt;=</span><span class="mi">8</span><span class="p">)</span><span class="o">-|</span><span class="p">)</span>
   <span class="p">)</span>

   <span class="c1">// On `secondState` viewB is pinned to bottom with viewA above it.</span>
   <span class="n">conductor</span><span class="p">[</span><span class="o">.</span><span class="n">secondState</span><span class="p">]</span> <span class="o">=</span> <span class="kt">Tack</span><span class="o">.</span><span class="nf">constraints</span><span class="p">(</span>
       <span class="o">.</span><span class="kt">V</span><span class="p">(</span><span class="o">|-</span><span class="p">(</span><span class="o">&gt;=</span><span class="mi">8</span><span class="p">)</span><span class="o">-</span><span class="n">viewA</span><span class="o">-</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">-</span><span class="n">viewB</span><span class="o">-</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">-|</span><span class="p">)</span>
   <span class="p">)</span>

   <span class="c1">// Make sure to override updateConstraints()</span>
   <span class="k">override</span> <span class="kd">func</span> <span class="nf">updateConstraints</span><span class="p">()</span> <span class="p">{</span>
       <span class="k">super</span><span class="o">.</span><span class="nf">updateConstraints</span><span class="p">()</span>
       <span class="n">conductor</span><span class="o">.</span><span class="nf">updateConstraints</span><span class="p">()</span>
   <span class="p">}</span>

   <span class="c1">// Somewhere where you update the viewState:</span>
   <span class="kd">func</span> <span class="nf">updateUI</span><span class="p">()</span> <span class="p">{</span>

       <span class="k">if</span> <span class="n">someCondition</span> <span class="p">{</span>
           <span class="n">conductor</span><span class="o">.</span><span class="n">activeState</span> <span class="o">=</span> <span class="o">.</span><span class="n">secondState</span>
       <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
           <span class="n">conductor</span><span class="o">.</span><span class="n">activeState</span> <span class="o">=</span> <span class="o">.</span><span class="n">initialState</span>
       <span class="p">}</span>

       <span class="nf">setNeedsUpdateConstraints</span><span class="p">()</span>
   <span class="p">}</span>
</code></pre>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/init(activeStates:)" class="dashAnchor"></a>
                    <a class="token" href="#/">init(activeStates:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Create a new conductor, passing the active states.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/init(activeState:)" class="dashAnchor"></a>
                    <a class="token" href="#/">init(activeState:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Create a new conductor, passing a active state.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Property/activeState" class="dashAnchor"></a>
                    <a class="token" href="#/">activeState</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Set the active state. Please note you&rsquo;ll have to call <code>setNeedsUpdateConstraints()</code> after this.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Property/activeStates" class="dashAnchor"></a>
                    <a class="token" href="#/">activeStates</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Set the active states. Please note you&rsquo;ll have to call <code>setNeedsUpdateConstraints()</code> after this.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/add(state:constraints:)" class="dashAnchor"></a>
                    <a class="token" href="#/">add(state:<wbr>constraints:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Add constraints to the <code>Conductor</code> for a given state.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/subscript(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">subscript(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/add(states:constraints:)" class="dashAnchor"></a>
                    <a class="token" href="#/">add(states:<wbr>constraints:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Add constraints to the <code>Conductor</code> for a given set of states.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/remove(state:)" class="dashAnchor"></a>
                    <a class="token" href="#/">remove(state:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Remove all constraints from the conductor for a given state.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    Throws a <code>stateNotFound</code> error if you try to remove a state that isn&rsquo;t added to the conductor, and
throws <code>stateActive</code> if you try to remove constraints while currently in this state.

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/updateConstraints()" class="dashAnchor"></a>
                    <a class="token" href="#/">updateConstraints()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Call this in your <code>UIView.updateConstraints()</code> method.</p>

                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2022 <a class="link" href="https://media.monks.com" target="_blank" rel="external noopener">Media.Monks</a>. All rights reserved. (Last updated: 2022-04-26)</p>
      <p></p>
    </section>
  </body>
</html>
